Words API
=========

Этот модуль предоставляет API для работы со словами и их ассоциациями.

Эндпоинты
---------

Получить случайное слово
~~~~~~~~~~~~~~~~~~~~~~~~

.. http:get:: /random-word

   Возвращает случайное слово заданной сложности из случайной категории.

   :query difficulty: Уровень сложности слова (может быть "easy", "medium" или "hard")
   :querytype difficulty: DifficultyEnum
   :statuscode 200: Слово успешно получено
   :statuscode 404: Не найдено слов подходящей сложности

   **Пример ответа**:

   .. sourcecode:: json

      {
        "id": 42,
        "category": "животные",
        "word": "слон",
        "associations": ["большой", "хобот", "Африка"],
        "difficulty": "easy"
      }

Обновить статистику слова
~~~~~~~~~~~~~~~~~~~~~~~~~

.. http:post:: /{word_id}/update-stats

   Обновляет статистику успешности для указанного слова.

   :param word_id: ID слова для обновления
   :param success: Флаг успешности (true/false)
   :statuscode 200: Статистика успешно обновлена
   :statuscode 404: Слово не найдено

   **Пример ответа**:

   .. sourcecode:: json

      {
        "message": "Статистика обновлена",
        "word_id": 42,
        "success_rate": 0.75
      }

Добавить новое слово
~~~~~~~~~~~~~~~~~~~~

.. http:post:: /

   Добавляет новое слово в базу данных.

   :param word: Текст слова
   :param category: Категория слова
   :param difficulty: Уровень сложности
   :param associations: Список ассоциаций
   :statuscode 200: Слово успешно добавлено

   **Пример ответа**:

   .. sourcecode:: json

      {
        "message": "Слово добавлено",
        "id": 123
      }

Получить следующее слово
~~~~~~~~~~~~~~~~~~~~~~~

.. http:get:: /next-word/{exclude_id}

   Возвращает случайное слово, исключая слово с указанным ID.

   :param exclude_id: ID слова, которое нужно исключить
   :query difficulty: Уровень сложности слова
   :statuscode 200: Слово успешно получено
   :statuscode 404: Не найдено активных слов для выбора

   **Пример ответа**:

   .. sourcecode:: json

      {
        "id": 43,
        "category": "растения",
        "word": "дуб",
        "associations": ["дерево", "крепкий", "желудь"],
        "difficulty": "medium"
      }

Получить слово по ID
~~~~~~~~~~~~~~~~~~~~

.. http:get:: /word-by-id/{word_id}

   Возвращает слово по его ID.

   :param word_id: ID запрашиваемого слова
   :statuscode 200: Слово успешно получено
   :statuscode 404: Слово не найдено

   **Пример ответа**:

   .. sourcecode:: json

      {
        "id": 42,
        "category": "животные",
        "word": "слон",
        "associations": ["большой", "хобот", "Африка"],
        "difficulty": "easy"
      }

Получить случайное слово по категории
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. http:get:: /{category}

   Возвращает случайное слово из указанной категории.

   :param category: Название категории
   :statuscode 200: Слово успешно получено
   :statuscode 404: Категория не найдена или нет активных слов

   **Пример ответа**:

   .. sourcecode:: json

      {
        "word": "слон",
        "associations": ["большой", "хобот", "Африка"],
        "difficulty": "easy"
      }

Модели данных
-------------

DifficultyEnum
~~~~~~~~~~~~~~

Перечисление уровней сложности:

- ``easy`` - Легкий уровень
- ``medium`` - Средний уровень
- ``hard`` - Сложный уровень

WordWithAssociations
~~~~~~~~~~~~~~~~~~~~

Модель слова с ассоциациями:

- ``id`` (int): Уникальный идентификатор слова
- ``word`` (str): Текст слова
- ``category`` (str): Категория слова
- ``difficulty`` (DifficultyEnum): Уровень сложности
- ``associations`` (List[str]): Список ассоциаций
- ``is_active`` (bool): Флаг активности слова
- ``success_rate`` (float): Процент успешных отгадываний